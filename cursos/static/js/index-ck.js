jQuery(function(e){Stripe.setPublishableKey(config.publishable_key);+function(){if(e(window).width()<1e3)return;var t=e("#tabs").addClass("js"),n=t.find(".tab").hide(),r=t.find(".selector");e(window).resize(function(){e(window).width()<1e3?t.removeClass("js"):t.addClass("js")});r.first().addClass("active");n.first().fadeIn();r.mouseenter(function(){var t=e(this);r.filter(".active").removeClass("active");n.stop(!0,!0).fadeOut();t.next(".tab").stop(!0,!0).fadeIn();t.addClass("active")})}();+function(){function v(){var e=P(b()),n=y(),r="";e.discount>0&&(r=" <span>con un descuento de <strong>$"+e.discount+" "+n+"</strong></span>");E("$"+e.total+" "+n+r);s==t&&H()}function m(t){i=t;d.val(t);e(".pago-num").html(t)}function g(e){s=e;var t=w();E("$"+b()+" "+y()).addClass(t);v();f.removeClass("paypal deposit card");f.addClass(t)}function y(){return s==n?config.currencyd:s==r?config.currencyp:"USD"}function b(){return s==n?parseInt(config.preciod):s==r?parseInt(config.preciop):parseInt(config.precio)}function w(){return s==n?"deposit":s==r?"paypal":"card"}function E(e){return a.html(e)}function x(){var t=e(".screen.active");t.removeClass("active");t.next(".screen").addClass("active")}function T(){var t=e(".screen.active");t.prev(".screen").addClass("active");t.removeClass("active")}function N(e){O(h);if(e=="OK"){a.addClass("success").html(":) Gracias");o.html('<div class="final"><p>En breve recibirás la información para realizar tu pago al siguiente curso:</p><h1>'+config.nombre+"</h1><p>Para cualquier duda puedes comunicarte a:</p></div>")}else _(h,'Ocurrió un error en el proceso. Por favor intentalo más tarde o escribenos a <a href="mailto:ventas@mejorando.la">ventas@mejorando.la</a>.')}function C(t){O(p);if(t=="OK"){var n=b(),t=P(n),r='<form id="paypal" action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="charset" value="utf-8" /><input type="hidden" name="cmd" value="_xclick" /><input type="hidden" name="rm" value="1" /> <!-- send data back via POST --><input type="hidden" name="cancel_return" value="'+window.location.href+'" />'+'<input type="hidden" name="notify_url" value="https://mejorando.la/cursos/paypal_ipn" />'+'<input type="hidden" name="return" value="'+window.location.href+'?felicidades" />'+'<input type="hidden" name="business" value="cursos@mejorando.la" />'+'<input type="hidden" name="lc" value="ES" />'+'<input type="hidden" name="no_shipping" value="1" />'+'<input type="hidden" name="no_note" value="1" />'+'<input type="hidden" name="cpp_logo_image" value="https://mejorando.la/images/logo_for_paypal.png" />'+'<input type="hidden" name="currency_code" value="'+y()+'" /> <!-- USD EUR MXN -->'+'<input type="hidden" name="quantity" value="'+i+'" />'+'<input type="hidden" name="discount_amount" value="'+t.discount+'" />'+'<input type="hidden" name="amount" value="'+n+'" />'+'<input type="hidden" name="item_name" value="'+config.nombre+'" />'+'<input type="hidden" name="item_number" value="'+config.id+'" />'+"</form>";e(r).submit()}else _(p,'Ocurrió un error en el proceso. Por favor intentalo más tarde o escribenos a <a href="mailto:ventas@mejorando.la">ventas@mejorando.la</a>.')}function k(t){O(l);if(t=="OK"){e("#samedata").is(":checked")&&c.find("input.email").first().val(l.find("input.email").val());x()}else _(l,'Ocurrió un error en el proceso. Por favor intentalo más tarde o escribenos a <a href="mailto:ventas@mejorando.la">ventas@mejorando.la</a>.')}function L(e){O(c);if(e=="OK"){a.addClass("success").html(":) Felicidades");o.html('<div class="final"><p>Ya estás listo para asistir a este curso:</p><h1>'+config.nombre+"</h1><p>Para cualquier duda puedes comunicarte a:</p></div>")}else _(c,'Ocurrió un error en el proceso. Por favor intentalo más tarde o escribenos a <a href="mailto:ventas@mejorando.la">ventas@mejorando.la</a>.')}function A(e){e.addClass("sending");M(e,"Enviando...")}function O(e){e.removeClass("sending");M(e,"")}function M(e,t){e.find(".notice").html(t);return!1}function _(e,t){e.find(".notice").html('<span class="err">*</span> '+t);return!1}function D(t,n){t.find('input[type="text"]').each(function(){var t=e(this);if(!n&&t.attr("name")==undefined)return;t.removeClass("error");t.val().match(/^\s*$/)&&t.addClass("error")});return t.find(".error").size()>0?!1:!0}function P(e){var t=Math.floor(i/5),n=e*i,r=t*e;i%5!==0&&(r+=e*.1*(i<5?i-1:i-5*t));n-=r;r=Math.ceil(r);n=Math.ceil(n);return{total:n,discount:r}}function H(){var e=c.find(".alumnos"),t="";for(var n=1;n<=i;n++)t+='<label class="alumno">Alumno '+n+': <input type="text" placeholder="Email" class="email"   name="email" /></label>';e.html(t)}var t=0,n=1,r=2,i=1,s=0,o=e(".screens"),u=o.find(".screen"),a=e("#pago-status"),f=e("#pago-forms"),l=e("#buy-form"),c=e("#reg-form"),h=e("#dep-form"),p=e("#pay-form"),d=e('input[name="quantity"]');e(".pago-count a").click(function(){var t=e(this),n=i;if(t.is(".pago-mas"))n++;else{if(i==1)return;n--}m(n);v()});h.submit(function(){if(!D(h))return _(h,"Debe completar todos los campos.");A(h);e.post(h.attr("action"),h.serialize(),N);return!1});p.submit(function(){if(!D(p))return _(p,"Debe completar todos los campos.");A(p);e.post(p.attr("action"),p.serialize(),C);return!1});var S={incorrect_number:"El número de tarjeta es incorrecto",invalid_number:"El número de tarjeta no es un número real o está mal escrito",invalid_expiry_month:"La fecha de expiración de la tarjeta es invalida",invalid_expiry_year:"El año de expiración de la tarjeta es invalido",invalid_cvc:"El código de seguridad de la tarjeta no es el correcto",expired_card:"Tu tarjeta expiró",incorrect_cvc:"El código de seguridad de la tarjeta no es el correcto",card_declined:"Tu tarjeta fue rechazada (intenta con otra)",processing_error:"Un error ocurrió mientras procesabamos tu tarjeta, intenta de nuevo"};l.submit(function(){if(!D(l,!0))return _(l,"Debe completar todos los campos.");A(l);Stripe.createToken({number:l.find(".card-number").val(),cvc:l.find(".card-cvc").val(),exp_month:l.find(".card-expiry-month").val(),exp_year:l.find(".card-expiry-year").val()},function(t,n){O(l);if(n.error){var r=n.error.message;S[n.error.code]&&(r=S[n.error.code]);_(l,r)}else{l.find('input[name="stripeToken"]').val(n.id);A(l);e.post(l.attr("action"),l.serialize(),k)}});return!1});c.submit(function(){if(!D(c))return _(c,"Debe completar todos los campos.");A(c);e.post(c.attr("action"),c.serialize(),L);return!1});e(".pago-btns .next").live("click",x);e(".pago-btns .cancel").click(T);e(".method-c").click(function(){g(t);x()});e(".method-d").click(function(){if(typeof config.preciod!="undefined"&&typeof config.currencyd!="undefined"){g(n);x()}});e(".method-p").click(function(){if(typeof config.preciop!="undefined"&&typeof config.currencyp!="undefined"){g(r);x()}});e(".pago-btns .clearstatus").click(function(){m(1);a.text("$0 USD").removeClass("deposit paypal card");f.removeClass("deposit paypal card");g(t)});g(t);e("#paybypal").click(function(){g(r);return!1})}();e("#video-link").click(function(){var t=e(this);t.html('<iframe width="666" height="376" src="'+t.attr("href")+'?autoplay=1&modestbranding=1&showinfo=0&autohide=1&controls=0" frameborder="0" allowfullscreen></iframe>');return!1});var t=new function(){var t=e("#pago"),n=t.find(".overlay");$panel=t.find(".panel");this.hide=function(){n.addClass("fadeOut");$panel.addClass("bounceOutUp");setTimeout(function(){t.removeClass("show");n.removeClass("fadeOut").removeClass("fadeIn");$panel.removeClass("bounceOutUp").removeClass("bounceInDown")},1010);return!1};this.show=function(){t.addClass("show");n.addClass("fadeIn");$panel.addClass("bounceInDown")};n.click(this.hide)};e(".close").click(t.hide);e("#registrate").click(t.show);if(document.location.href.indexOf("?felicidades")!==-1){e("#pago-status").addClass("success").html(":) Felicidades");e(".screens").html('<div class="final"><p>Ya estás listo para asistir a este curso:</p><h1>'+config.nombre+"</h1><p>Para cualquier duda puedes comunicarte a:</p></div>");e("#registrate").trigger("click")}});